{"version":3,"sources":["components/modals/AddCoinModal/TokenRow/TokenRow.tsx","components/modals/AddCoinModal/TokenRow/index.ts","components/modals/AddCoinModal/TokenList/TokenList.tsx","components/modals/AddCoinModal/TokenList/index.ts","components/modals/AddCoinModal/AddCoinModal.tsx","components/modals/AddCoinModal/index.ts"],"names":["Wrapper","name","class","ChevronWrapper","ChevronIcon","Icon","Main","Content","InfoWrapper","AvatarStyled","Avatar","Info","Top","Bottom","Additional","CopyWrapper","CopyIcon","TokenRow","mintAddress","tokenName","tokenSymbol","icon","dispatch","inputRef","isOpen","setIsOpen","handleChevronClick","handleAddClick","mint","web3","PublicKey","handleCopyClick","input","current","focus","setSelectionRange","value","length","document","execCommand","opened","TokenList","items","map","item","WrapperModal","Modal","ScrollableContainer","AddCoinModal","close","ownerAccount","state","data","blockchain","account","entrypoint","tokenAccounts","entities","tokens","TOKENS_BY_ENTRYPOINT","isMainnetEntrypoint","clusterApiUrl","handleMintTestTokenClick","owner","Account","amount","decimals","initialAccount","filteredTokens","existsMintAccounts","Set","Object","values","token","parsed","toBase58","filter","has","undefined"],"mappings":";;;;;;;AIAA;;AACA,AFDA,AFAA;;AIEA,AFDA,AFAA;AGDA,AFAA,AICA;ADEA,AFAA,AFDA;;AIEA,AJDA;;AIEA,AFDA,AFAA,IEAMA,OAAO,GAAG,aAAa,oBAAO,KAAP,EAAc;AACzCC,EAAAA,IAAI,EAAE,SADmC;AEE3C,AFAEC,AFAF,EEAEA,KAAK,EAAE;AAFkC,CAAd,CAA7B;AEGA,AJCA;AEIO,IAAMuC,SAAmC,GAAG,SAAtCA,SAAsC,OAE7C;AELN,AFKM,MADJC,KACI,QADJA,KACI;;AACJ,MAAI,CAACA,KAAL,EAAY;AACV,WAAO,IAAP;AACD;;AEPH,AFSE,AFVF,IICMG,AJDA7C,OAAO,GAAG,EICE,GAAG,GFSZ,KFVoB,KICK,eJDE,IEU1B,CET+B8C,AJDZ,EAAc,IEUlC,METyB,EAAc,AFUzCJ,KAAK,CAACC,GAAN,CAAU,UAAAC,IAAI;AETnB3C,AFSmB,AFVnBA,EICAA,AJDAA,IICI,AJDA,EICE,AJDA,SADmC,KICK,EFUvB,6BAAC,kBAAD;AERvBC,AFQiC,AFTjCA,EICAA,AJDAA,IESiC,CER5B,AJDA,EICE,AFQ6B,AFT7B,EES+B0C,IAAI,CAAC1B;AEVG,AFUvB,AFXkB,CICT,AJDL,CIC7B,AJDA,KEW8D0B,IAArC,EAAJ;AENrB,AFMqB,AFPrB,GEOO,CENDG,AFKG,AFNH5C,CEMJ,aFNkB,GAAG,EICE,GAAG,QJDQ,KICK,eJDE,KICK,AJDZ,EAAc,GICT,EAAc;AACrDF,AFOD,AFRCA,CEFK,CEGLA,AJDAA,IICI,AJDA,EICE,AJDA,gBAD0C,KICK;AAErDC,AJDAA,EICAA,AJDAA,KICK,AJDA,EICE,AJDA;AID8C,AJDL,CICT,AJDL,CICpC,AJDA,EIII;AACJ,AJDA,IAAME,WAAW,GAAG,aAAa,oBAAOC,QAAP,EAAa;AIE9C,AJDEJ,EAAAA,IAAI,EAAE,aADsC;AIG9C,AJDEC,EAAAA,KAAK,EAAE;AIET,AJJ8C,CAAb,CAAjC;AIKA,AJDA,IAAMI,IAAI,GAAG,aAAa,oBAAO,KAAP,EAAc;AIExC,AJDEL,EAAAA,IAAI,EAAE,MADgC;AIGxC,AJ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","file":"AddCoinModal.4b79d9b5.js","sourceRoot":"../src","sourcesContent":["import React, { FunctionComponent, useRef, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport * as web3 from '@solana/web3.js';\nimport classNames from 'classnames';\nimport { styled } from 'linaria/react';\nimport { rgba } from 'polished';\nimport { Avatar, Button, Icon, Input } from 'components/ui';\nimport { TokenType } from 'constants/tokens';\nimport { createTokenAccount } from 'store/actions/complex/tokens';\nconst Wrapper = /*#__PURE__*/styled(\"div\")({\n  name: \"Wrapper\",\n  class: \"Wrapper_w2hsup5\"\n});\nconst ChevronWrapper = /*#__PURE__*/styled(\"div\")({\n  name: \"ChevronWrapper\",\n  class: \"ChevronWrapper_cjk37vx\"\n});\nconst ChevronIcon = /*#__PURE__*/styled(Icon)({\n  name: \"ChevronIcon\",\n  class: \"ChevronIcon_c1aewuyh\"\n});\nconst Main = /*#__PURE__*/styled(\"div\")({\n  name: \"Main\",\n  class: \"Main_m1x0i73s\"\n});\nconst Content = /*#__PURE__*/styled(\"div\")({\n  name: \"Content\",\n  class: \"Content_c1lrr91s\"\n});\nconst InfoWrapper = /*#__PURE__*/styled(\"div\")({\n  name: \"InfoWrapper\",\n  class: \"InfoWrapper_ifuaxgh\"\n});\nconst AvatarStyled = /*#__PURE__*/styled(Avatar)({\n  name: \"AvatarStyled\",\n  class: \"AvatarStyled_asx2g64\"\n});\nconst Info = /*#__PURE__*/styled(\"div\")({\n  name: \"Info\",\n  class: \"Info_i10180ct\"\n});\nconst Top = /*#__PURE__*/styled(\"div\")({\n  name: \"Top\",\n  class: \"Top_t1idmxl7\"\n});\nconst Bottom = /*#__PURE__*/styled(\"div\")({\n  name: \"Bottom\",\n  class: \"Bottom_b5vkidx\"\n});\nconst Additional = /*#__PURE__*/styled(\"div\")({\n  name: \"Additional\",\n  class: \"Additional_ajtzobz\"\n});\nconst CopyWrapper = /*#__PURE__*/styled(\"div\")({\n  name: \"CopyWrapper\",\n  class: \"CopyWrapper_cr7kpio\"\n});\nconst CopyIcon = /*#__PURE__*/styled(Icon)({\n  name: \"CopyIcon\",\n  class: \"CopyIcon_c1n4pegg\"\n});\nexport const TokenRow: FunctionComponent<TokenType> = ({\n  mintAddress,\n  tokenName,\n  tokenSymbol,\n  icon\n}) => {\n  const dispatch = useDispatch(); // eslint-disable-next-line unicorn/no-null\n\n  const inputRef = useRef<HTMLInputElement>(null);\n  const [isOpen, setIsOpen] = useState(false);\n\n  const handleChevronClick = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const handleAddClick = () => {\n    const mint = new web3.PublicKey(mintAddress);\n    dispatch(createTokenAccount(mint));\n  };\n\n  const handleCopyClick = () => {\n    const input = inputRef.current;\n\n    if (input) {\n      input.focus();\n      input.setSelectionRange(0, input.value.length);\n      document.execCommand('copy');\n    }\n  };\n\n  return <Wrapper>\n      <ChevronWrapper onClick={handleChevronClick} className={classNames({\n      opened: isOpen\n    })}>\n        <ChevronIcon name=\"chevron\" />\n      </ChevronWrapper>\n      <Main>\n        <Content>\n          <InfoWrapper onClick={handleChevronClick}>\n            <AvatarStyled src={icon} />\n            <Info>\n              <Top>\n                <div>{tokenSymbol}</div> <div />\n              </Top>\n              <Bottom>\n                <div>{tokenName}</div> <div />\n              </Bottom>\n            </Info>\n          </InfoWrapper>\n          <Button secondary small onClick={handleAddClick}>\n            Add\n          </Button>\n        </Content>\n        <Additional className={classNames({\n        opened: isOpen\n      })}>\n          <Input ref={inputRef} title={`${tokenSymbol} Mint Address`} value={mintAddress} readOnly postfix={<CopyWrapper onClick={handleCopyClick}>\n                <CopyIcon name=\"copy\" />\n              </CopyWrapper>} />\n        </Additional>\n      </Main>\n    </Wrapper>;\n};","export { TokenRow } from './TokenRow';\n","import React, { FunctionComponent } from 'react';\nimport { styled } from 'linaria/react';\nimport { TokenType } from 'constants/tokens';\nimport { TokenRow } from '../TokenRow';\nconst Wrapper = /*#__PURE__*/styled(\"div\")({\n  name: \"Wrapper\",\n  class: \"Wrapper_w1wf7dhi\"\n});\ntype Props = {\n  items?: TokenType[]; // TODO: not any\n\n};\nexport const TokenList: FunctionComponent<Props> = ({\n  items\n}) => {\n  if (!items) {\n    return null;\n  }\n\n  return <Wrapper>\n      {items.map(item => <TokenRow key={item.mintAddress} {...item} />)}\n    </Wrapper>;\n};","export { TokenList } from './TokenList';\n","import React, { FunctionComponent, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as web3 from '@solana/web3.js';\nimport { styled } from 'linaria/react';\nimport { Modal } from 'components/common/Modal';\nimport { Button } from 'components/ui';\nimport { TOKENS_BY_ENTRYPOINT } from 'constants/tokens';\nimport { createAndInitializeMint } from 'store/actions/complex/tokens';\nimport { RootState } from 'store/types';\nimport { TokenList } from './TokenList';\nconst WrapperModal = /*#__PURE__*/styled(Modal)({\n  name: \"WrapperModal\",\n  class: \"WrapperModal_wiqml5\"\n});\nconst ScrollableContainer = /*#__PURE__*/styled(\"div\")({\n  name: \"ScrollableContainer\",\n  class: \"ScrollableContainer_s17ynaak\"\n}); // const ITEMS = [\n//   {\n//     symbol: 'SRM',\n//     name: 'Serum',\n//     price: '$0.887832',\n//     delta: '+16.9% for 24hrs',\n//   },\n//   {\n//     symbol: 'MSRM',\n//     name: 'MegaSerum',\n//     price: '$0.887832',\n//     delta: '+16.9% for 24hrs',\n//   },\n//   {\n//     symbol: 'BTC',\n//     name: 'Wrapped Bitcoin',\n//     price: '$0.887832',\n//     delta: '+16.9% for 24hrs',\n//   },\n//   {\n//     symbol: 'ETH',\n//     name: 'Wrapped Ethereum',\n//     price: '$0.887832',\n//     delta: '+16.9% for 24hrs',\n//   },\n//   {\n//     symbol: 'FTT',\n//     name: 'Wrapped FTT',\n//     price: '$0.887832',\n//     delta: '+16.9% for 24hrs',\n//   },\n//   {\n//     symbol: 'YFI',\n//     name: 'Wrapped YFI',\n//     price: '$0.887832',\n//     delta: '+16.9% for 24hrs',\n//   },\n//   {\n//     symbol: 'YFI',\n//     name: 'Wrapped YFI',\n//     price: '$0.887832',\n//     delta: '+16.9% for 24hrs',\n//   },\n// ];\n\ntype Props = {\n  close: () => void;\n};\nexport const AddCoinModal: FunctionComponent<Props> = ({\n  close\n}) => {\n  const dispatch = useDispatch();\n  const ownerAccount = useSelector((state: RootState) => state.data.blockchain.account);\n  const entrypoint = useSelector((state: RootState) => state.data.blockchain.entrypoint);\n  const tokenAccounts = useSelector((state: RootState) => state.entities.tokens.items);\n  const tokens = TOKENS_BY_ENTRYPOINT[entrypoint];\n  const isMainnetEntrypoint = entrypoint === web3.clusterApiUrl('mainnet-beta');\n\n  const handleMintTestTokenClick = () => {\n    if (!ownerAccount) {\n      return;\n    }\n\n    dispatch(createAndInitializeMint({\n      owner: ownerAccount,\n      mint: new web3.Account(),\n      amount: 1000,\n      decimals: 2,\n      initialAccount: new web3.Account()\n    }));\n  };\n\n  const filteredTokens = useMemo(() => {\n    if (!tokens) {\n      return;\n    }\n\n    const existsMintAccounts = new Set(Object.values(tokenAccounts).map(token => token.parsed.mint?.toBase58()));\n    return tokens.filter(token => !existsMintAccounts.has(token.mintAddress));\n  }, [tokenAccounts, tokens]);\n  return <WrapperModal title=\"Add coins\" description={<>\n          Add a token to your wallet. This will cost 0.002039 SOL.\n          {!isMainnetEntrypoint ? <>\n              {' '}\n              <Button link onClick={handleMintTestTokenClick}>\n                Mint test token\n              </Button>\n            </> : null}\n        </>} close={close}>\n      {filteredTokens?.length ? <ScrollableContainer>\n          <TokenList items={filteredTokens} />\n        </ScrollableContainer> : undefined}\n    </WrapperModal>;\n};","// eslint-disable-next-line import/no-default-export\nexport { AddCoinModal as default } from './AddCoinModal';\n"]}