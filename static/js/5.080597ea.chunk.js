(this["webpackJsonpp2p-wallet-web"]=this["webpackJsonpp2p-wallet-web"]||[]).push([[5],{731:function(e,n,t){"use strict";t.d(n,"B",(function(){return c})),t.d(n,"m",(function(){return o})),t.d(n,"y",(function(){return l})),t.d(n,"g",(function(){return s})),t.d(n,"e",(function(){return u})),t.d(n,"d",(function(){return i})),t.d(n,"a",(function(){return m})),t.d(n,"c",(function(){return d})),t.d(n,"n",(function(){return b})),t.d(n,"o",(function(){return f})),t.d(n,"f",(function(){return p})),t.d(n,"p",(function(){return v})),t.d(n,"z",(function(){return j})),t.d(n,"A",(function(){return O})),t.d(n,"x",(function(){return E})),t.d(n,"u",(function(){return h})),t.d(n,"w",(function(){return k})),t.d(n,"t",(function(){return w})),t.d(n,"v",(function(){return y})),t.d(n,"s",(function(){return g})),t.d(n,"k",(function(){return x})),t.d(n,"j",(function(){return S})),t.d(n,"h",(function(){return T})),t.d(n,"i",(function(){return C})),t.d(n,"q",(function(){return A})),t.d(n,"r",(function(){return W})),t.d(n,"l",(function(){return D})),t.d(n,"b",(function(){return I}));var a=t(729),r=t(13),c=Object(a.a)("div")({name:"Wrapper",class:"w1oe2baa"}),o=Object(a.a)("div")({name:"Header",class:"h4f3mu3"}),l=Object(a.a)("div")({name:"Title",class:"t1i912uk"}),s=Object(a.a)("div")({name:"Desc",class:"dgkzfl6"}),u=Object(a.a)("div")({name:"CloseWrapper",class:"c1yz84kj"}),i=Object(a.a)(r.c)({name:"CloseIcon",class:"c1iyn34x"}),m=Object(a.a)("div")({name:"BlockWrapper",class:"bmn2tn4"}),d=Object(a.a)(r.c)({name:"CheckmarkIcon",class:"c177nl2c"}),b=Object(a.a)(r.c)({name:"OtherIcon",class:"o1sha4fn"}),f=Object(a.a)("div")({name:"ProgressWrapper",class:"p1prpn3v"}),p=Object(a.a)("div")({name:"Content",class:"c19lvhhk"}),v=Object(a.a)("div")({name:"SendWrapper",class:"s1wcgvvt"}),j=Object(a.a)("div")({name:"ValueCurrency",class:"v1y267t2"}),O=Object(a.a)("div")({name:"ValueOriginal",class:"v33wg3"}),E=Object(a.a)("div")({name:"SwapWrapper",class:"sd77she"}),h=Object(a.a)("div")({name:"SwapColumn",class:"s19h1co8"}),k=Object(a.a)("div")({name:"SwapInfo",class:"spgqtm3"}),w=Object(a.a)("div")({name:"SwapBlock",class:"spxj4if"}),y=Object(a.a)(r.c)({name:"SwapIcon",class:"s1733ag7"}),g=Object(a.a)("div")({name:"SwapAmount",class:"s1thhukn"}),x=Object(a.a)("div")({name:"FieldsWrapper",class:"frl1rem"}),S=Object(a.a)("div")({name:"FieldWrapper",class:"fiq91qb"}),T=Object(a.a)("div")({name:"FieldTitle",class:"f1i7cxvz"}),C=Object(a.a)("div")({name:"FieldValue",class:"f1g97ed6"}),A=Object(a.a)(r.c)({name:"ShareIcon",class:"s1r727wv"}),W=Object(a.a)("div")({name:"ShareWrapper",class:"s1uopwlq"}),D=Object(a.a)("div")({name:"Footer",class:"fvtky2j"}),I=Object(a.a)(r.b)({name:"ButtonExplorer",class:"b4w9gxk"});t(732)},732:function(e,n,t){},738:function(e,n,t){},743:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return g}));var a=t(1),r=t.n(a),c=t(3),o=t(9),l=t(0),s=t.n(l),u=t(11),i=t(729),m=t(22),d=t(14),b=t.n(d),f=t(124),p=t(86),v=t(34),j=t(50),O=t(13),E=t(123),h=t(268),k=t(130),w=t(731),y=Object(i.a)("div")({name:"ProgressLine",class:"p1d4rjaa"}),g=function(e){var n,t,a=e.type,i=e.action,d=e.fromToken,g=e.fromAmount,x=e.toToken,S=e.toAmount,T=e.close,C=Object(u.c)(),A=Object(l.useState)(5),W=Object(o.a)(A,2),D=W[0],I=W[1],z=Object(l.useState)(!1),F=Object(o.a)(z,2),q=F[0],B=F[1],M=Object(l.useState)(!1),N=Object(o.a)(M,2),V=N[0],P=N[1],G=Object(l.useState)(null),J=Object(o.a)(G,2),Y=J[0],_=J[1],H=Object(u.d)((function(e){return Y&&e.transaction.items[Y]&&f.a.from(e.transaction.items[Y])||null})),L=Object(u.d)((function(e){return e.wallet.cluster})),K=Object(u.d)((function(e){return e.wallet.tokenAccounts}));Object(l.useEffect)((function(){var e=5;if(q){var n=setInterval((function(){I(D<=95?e+=7:e=95)}),2500);return function(){clearTimeout(n),I(100)}}}),[q]);var Q=function(){var e=Object(c.a)(r.a.mark((function e(){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,B(!0),e.t0=m.e,e.next=5,C(i);case 5:e.t1=e.sent,n=(0,e.t0)(e.t1),_(n),"send"===a&&Object(k.b)({header:"Sent",text:"- ".concat(d.toMajorDenomination(g).toString()," ").concat(d.symbol),symbol:d.symbol}),e.next=16;break;case 11:e.prev=11,e.t2=e.catch(0),P(!0),B(!1),v.b.error(e.t2.message);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(l.useEffect)((function(){Q()}),[]),Object(l.useEffect)((function(){var e=function(){var n=Object(c.a)(r.a.mark((function n(){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Y){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.t0=m.e,n.next=6,C(Object(E.b)(Y));case 6:if(n.t1=n.sent,(0,n.t0)(n.t1)){n.next=11;break}return setTimeout(e,3e3),n.abrupt("return");case 11:n.next=18;break;case 13:n.prev=13,n.t2=n.catch(2),P(!0),B(!1),v.b.error(n.t2.message);case 18:B(!1);case 19:case"end":return n.stop()}}),n,null,[[2,13]])})));return function(){return n.apply(this,arguments)}}();e()}),[Y]);var R,U=Object(l.useMemo)((function(){return H?K.find((function(e){var n;return e.address===(null===(n=H.short.destination)||void 0===n?void 0:n.toBase58())})):null}),[null===H||void 0===H?void 0:H.short.destination,K]),X=function(){T(Y)},Z=!Y||!H,$=Y&&H;return s.a.createElement(w.B,null,s.a.createElement(w.m,null,s.a.createElement(w.y,null,$?"Success":V?"Something went wrong":"send"===a?"Sending...":"Swapping..."),s.a.createElement(w.g,null,$?"send"===a?"You\u2019ve successfully sent ".concat(d.symbol):"You\u2019ve successfully swapped tokens":V?"send"===a?"Tokens have not been debited":"Tokens have not been swapped":"Transaction processing"),s.a.createElement(w.e,{onClick:X},s.a.createElement(w.d,{name:"close"})),s.a.createElement(w.a,{className:b()({isProcessing:Z,isSuccess:$,isError:V})},$?s.a.createElement(w.c,{name:"checkmark"}):s.a.createElement(w.n,{name:V?"warning":"timer"}))),s.a.createElement(w.o,null,s.a.createElement(y,{style:{width:"".concat(D,"%")}})),s.a.createElement(w.f,null,"send"===a?s.a.createElement(w.p,null,s.a.createElement(w.z,null,U?"+":"-"," ",(null===H||void 0===H?void 0:H.short.destinationAmount.toNumber())||d.toMajorDenomination(g).toString()," ",(null===H||void 0===H||null===(n=H.short.sourceTokenAccount)||void 0===n?void 0:n.mint.symbol)||d.symbol),s.a.createElement(w.A,null,s.a.createElement(p.a,{prefix:U?"+":"-",symbol:(null===H||void 0===H||null===(t=H.short.sourceTokenAccount)||void 0===t?void 0:t.mint.symbol)||d.symbol,value:(null===H||void 0===H?void 0:H.short.destinationAmount)||d.toMajorDenomination(g)}))):void 0,"swap"===a&&x&&S?s.a.createElement(w.x,null,s.a.createElement(w.u,null,s.a.createElement(w.w,null,s.a.createElement(j.a,{size:44,symbol:d.symbol}),s.a.createElement(w.s,null,"- ",d.toMajorDenomination(g).toString()," ",d.symbol))),s.a.createElement(w.t,null,s.a.createElement(w.v,{name:"swap"})),s.a.createElement(w.u,null,s.a.createElement(w.w,null,s.a.createElement(j.a,{size:44,symbol:x.symbol}),s.a.createElement(w.s,null,"+ ",x.toMajorDenomination(S).toString()," ",x.symbol)))):void 0,Y?s.a.createElement(w.k,null,s.a.createElement(w.j,null,s.a.createElement(w.h,null,"Transaction ID"),s.a.createElement(w.i,null,Y," ",s.a.createElement("a",{href:Object(h.a)("tx",Y,L),target:"_blank",rel:"noopener noreferrer noindex",className:"button"},s.a.createElement(w.r,{onClick:(R=Y,function(){try{navigator.clipboard.writeText(R),v.b.info("Copied to buffer!")}catch(e){console.error(e)}})},s.a.createElement(w.q,{name:"copy"})))))):void 0),s.a.createElement(w.l,null,V?s.a.createElement(s.a.Fragment,null,s.a.createElement(O.b,{primary:!0,disabled:q,onClick:function(){Q()}},"Try again"),s.a.createElement(O.b,{lightGray:!0,disabled:q,onClick:X},"Cancel")):s.a.createElement(s.a.Fragment,null,s.a.createElement(O.b,{primary:!0,onClick:X},"Done"),Y?s.a.createElement("a",{href:Object(h.a)("tx",Y,L),target:"_blank",rel:"noopener noreferrer noindex",className:"button"},s.a.createElement(w.b,{lightGray:!0},"View in blockchain explorer")):void 0)))};t(738)}}]);
//# sourceMappingURL=5.080597ea.chunk.js.map