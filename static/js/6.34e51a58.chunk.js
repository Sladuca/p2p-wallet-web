(this["webpackJsonpp2p-wallet-web"]=this["webpackJsonpp2p-wallet-web"]||[]).push([[6],{710:function(e,a,t){},714:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return U}));var n=t(1),c=t.n(n),r=t(3),l=t(9),s=t(0),o=t.n(s),i=t(11),u=t(703),m=t(23),b=t(20),d=t.n(b),p=t(121),v=t(84),f=t(36),j=t(61),O=t(12),E=t(120),k=t(263),y=Object(u.a)("div")({name:"Wrapper",class:"w1od7k37"}),w=Object(u.a)("div")({name:"Header",class:"h1m78m7v"}),h=Object(u.a)("div")({name:"Title",class:"toqsysz"}),g=Object(u.a)("div")({name:"Desc",class:"dncvf08"}),S=Object(u.a)("div")({name:"CloseWrapper",class:"cbc10e6"}),x=Object(u.a)(O.c)({name:"CloseIcon",class:"cw6pzyu"}),C=Object(u.a)("div")({name:"BlockWrapper",class:"b1g8f6bc"}),T=Object(u.a)(O.c)({name:"CheckmarkIcon",class:"czk12w0"}),W=Object(u.a)(O.c)({name:"OtherIcon",class:"o18mbp5l"}),A=Object(u.a)("div")({name:"ProgressWrapper",class:"p12i7cyl"}),I=Object(u.a)("div")({name:"ProgressLine",class:"p112p7y9"}),q=Object(u.a)("div")({name:"Content",class:"cy4f39q"}),z=Object(u.a)("div")({name:"SendWrapper",class:"saak63t"}),D=Object(u.a)("div")({name:"ValueCurrency",class:"v18xlo3e"}),F=Object(u.a)("div")({name:"ValueOriginal",class:"v7wy3mq"}),M=Object(u.a)("div")({name:"SwapWrapper",class:"sir5rf4"}),B=Object(u.a)("div")({name:"SwapColumn",class:"s1f1ms0b"}),V=Object(u.a)("div")({name:"SwapInfo",class:"sdyfgud"}),N=Object(u.a)("div")({name:"SwapBlock",class:"s12s7857"}),P=Object(u.a)(O.c)({name:"SwapIcon",class:"spkwk2s"}),G=Object(u.a)("div")({name:"SwapAmount",class:"scq0vrc"}),J=Object(u.a)("div")({name:"FieldsWrapper",class:"f171vk1k"}),Y=Object(u.a)("div")({name:"FieldWrapper",class:"f7utqbi"}),H=Object(u.a)("div")({name:"FieldTitle",class:"f14ew0zk"}),L=Object(u.a)("div")({name:"FieldValue",class:"f1p1xgy"}),_=Object(u.a)(O.c)({name:"CopyIcon",class:"cqac2z6"}),K=Object(u.a)("div")({name:"CopyWrapper",class:"c18ojgam"}),Q=Object(u.a)("div")({name:"Footer",class:"fqp82lk"}),R=Object(u.a)(O.b)({name:"ButtonExplorer",class:"b1moablb"}),U=function(e){var a,t,n=e.type,u=e.action,b=e.fromToken,U=e.fromAmount,X=e.toToken,Z=e.toAmount,$=e.close,ee=Object(i.c)(),ae=Object(s.useState)(5),te=Object(l.a)(ae,2),ne=te[0],ce=te[1],re=Object(s.useState)(!1),le=Object(l.a)(re,2),se=le[0],oe=le[1],ie=Object(s.useState)(!1),ue=Object(l.a)(ie,2),me=ue[0],be=ue[1],de=Object(s.useState)(null),pe=Object(l.a)(de,2),ve=pe[0],fe=pe[1],je=Object(i.d)((function(e){return ve&&e.transaction.items[ve]&&p.a.from(e.transaction.items[ve])||null})),Oe=Object(i.d)((function(e){return e.wallet.cluster})),Ee=Object(i.d)((function(e){return e.wallet.tokenAccounts}));Object(s.useEffect)((function(){var e=5;if(se){var a=setInterval((function(){ce(ne<=95?e+=7:e=95)}),2500);return function(){clearTimeout(a),ce(100)}}}),[se]);var ke=function(){var e=Object(r.a)(c.a.mark((function e(){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,oe(!0),e.t0=m.e,e.next=5,ee(u);case 5:e.t1=e.sent,a=(0,e.t0)(e.t1),fe(a),e.next=15;break;case 10:e.prev=10,e.t2=e.catch(0),be(!0),oe(!1),f.b.error(e.t2.message);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){ke()}),[]),Object(s.useEffect)((function(){var e=function(){var a=Object(r.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(ve){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,a.t0=m.e,a.next=6,ee(Object(E.b)(ve));case 6:if(a.t1=a.sent,(0,a.t0)(a.t1)){a.next=11;break}return setTimeout(e,3e3),a.abrupt("return");case 11:a.next=18;break;case 13:a.prev=13,a.t2=a.catch(2),be(!0),oe(!1),f.b.error(a.t2.message);case 18:oe(!1);case 19:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(){return a.apply(this,arguments)}}();e()}),[ve]);var ye,we=Object(s.useMemo)((function(){return je?Ee.find((function(e){var a;return e.address===(null===(a=je.short.destination)||void 0===a?void 0:a.toBase58())})):null}),[null===je||void 0===je?void 0:je.short.destination,Ee]),he=function(){$(ve)},ge=!ve||!je,Se=ve&&je;return o.a.createElement(y,null,o.a.createElement(w,null,o.a.createElement(h,null,Se?"Success":me?"Something went wrong":"send"===n?"Sending...":"Swapping..."),o.a.createElement(g,null,Se?"send"===n?"You\u2019ve successfully sent ".concat(b.symbol):"You\u2019ve successfully swapped tokens":me?"send"===n?"Tokens have not been debited":"Tokens have not been swapped":"Transaction processing"),o.a.createElement(S,{onClick:he},o.a.createElement(x,{name:"close"})),o.a.createElement(C,{className:d()({isProcessing:ge,isSuccess:Se,isError:me})},Se?o.a.createElement(T,{name:"checkmark"}):o.a.createElement(W,{name:me?"warning":"timer"}))),o.a.createElement(A,null,o.a.createElement(I,{style:{width:"".concat(ne,"%")}})),o.a.createElement(q,null,"send"===n?o.a.createElement(z,null,o.a.createElement(D,null,we?"+":"-"," ",(null===je||void 0===je?void 0:je.short.destinationAmount.toNumber())||b.toMajorDenomination(U).toString()," ",(null===je||void 0===je||null===(a=je.short.sourceTokenAccount)||void 0===a?void 0:a.mint.symbol)||b.symbol),o.a.createElement(F,null,o.a.createElement(v.a,{prefix:we?"+":"-",symbol:(null===je||void 0===je||null===(t=je.short.sourceTokenAccount)||void 0===t?void 0:t.mint.symbol)||b.symbol,value:(null===je||void 0===je?void 0:je.short.destinationAmount)||b.toMajorDenomination(U)}))):void 0,"swap"===n&&X&&Z?o.a.createElement(M,null,o.a.createElement(B,null,o.a.createElement(V,null,o.a.createElement(j.a,{size:44,symbol:b.symbol}),o.a.createElement(G,null,"- ",b.toMajorDenomination(U).toString()," ",b.symbol))),o.a.createElement(N,null,o.a.createElement(P,{name:"swap"})),o.a.createElement(B,null,o.a.createElement(V,null,o.a.createElement(j.a,{size:44,symbol:X.symbol}),o.a.createElement(G,null,"+ ",X.toMajorDenomination(Z).toString()," ",X.symbol)))):void 0,ve?o.a.createElement(J,null,o.a.createElement(Y,null,o.a.createElement(H,null,"Transaction ID"),o.a.createElement(L,null,ve," ",o.a.createElement(K,{onClick:(ye=ve,function(){try{navigator.clipboard.writeText(ye),f.b.info("Copied to buffer!")}catch(e){console.error(e)}})},o.a.createElement(_,{name:"copy"}))))):void 0),o.a.createElement(Q,null,me?o.a.createElement(o.a.Fragment,null,o.a.createElement(O.b,{primary:!0,disabled:se,onClick:function(){ke()}},"Try again"),o.a.createElement(O.b,{lightGray:!0,disabled:se,onClick:he},"Cancel")):o.a.createElement(o.a.Fragment,null,o.a.createElement(O.b,{primary:!0,onClick:he},"Done"),ve?o.a.createElement("a",{href:Object(k.a)("tx",ve,Oe),target:"_blank",rel:"noopener noreferrer noindex",className:"button"},o.a.createElement(R,{lightGray:!0},"View in blockchain explorer")):void 0)))};t(710)}}]);
//# sourceMappingURL=6.34e51a58.chunk.js.map